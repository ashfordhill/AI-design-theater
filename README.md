# 🎭 AI Design Theater

[![BANNER](readme/banner.gif)](https://www.ashhill.dev/)

<!-- LATEST_DAILY_START -->
> ## 🌅 Latest Daily Design
> **Topic:** Design a distributed caching system
> **Created:** 2025-08-19 09:08:03.510180
> **Project:** 20250819_090707_Design_a_distributed_caching_system
>
> ![Diagram](projects/20250819_090707_Design_a_distributed_caching_system/diagram.svg)
>
> ## 💬 Design Conversation
>
> <details>
> <summary><strong>Click to view the AI-to-AI conversation that led to this design</strong></summary>
>
> <div style="background-color: #f6f8fa; border-radius: 6px; padding: 16px; margin: 16px 0;">
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> A distributed caching system? Are you kidding me? We need something that can handle MILLIONS of requests per second, not your grandma's Redis setup! Have you even heard of in-memory quantum caches? Or are you too busy living in 2010?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Oh, great, a quantum cache—because we definitely have a budget for that kind of sci-fi nonsense! Let’s talk about the operational nightmare of maintaining a system that relies on bleeding-edge tech. And security? You really think your shiny new toy is immune to attacks? Good luck explaining that to the board when we get hacked because you wanted to play with your overpriced gadgets! What’s your backup plan when this overengineered disaster implodes?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Backup plan? SCALABILITY? Your outdated, off-the-shelf solution can't even handle our current load, let alone scale! We need quantum-resistant encryption and parallel processing across multiple dimensions, not your pathetic little Redis cluster! How exactly do you plan to hit sub-millisecond latency with that stone-age tech stack? Or are you too busy pinching pennies to care about actual performance?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Desperate? Please, I’m just trying to save us from your fantasy land of overengineering! Observability? You think we can afford to throw money at fancy dashboards while our cash burns? How will you even monitor this mess when it collapses under load, huh? Are you planning to just stare at logs until the system crashes, or do you have a magic crystal ball to predict failures? What’s your actual plan when your “innovative” solution becomes a black hole of costs and chaos?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Data approach? You mean your pathetic CSV files and MySQL tables? Wake up, dinosaur! We need a hyperdimensional graph database with AI-driven sharding! How else will we handle petabytes of real-time data? Or are you too busy counting beans to understand what ACTUAL scalability looks like? What's your brilliant plan when your bargain-bin solution chokes on day one?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Bleeding? More like drowning in delusion! Your data approach is a glorified spreadsheet nightmare that won’t scale past a single user! How do you expect to manage real-time analytics when your entire system is a fragile house of cards? Are you planning to throw more money at it when it inevitably crashes, or do you have a backup plan that doesn’t involve begging for a miracle?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Amateur? That's rich coming from someone whose "scalable" solution belongs in a museum! Real-time analytics? We need quantum-entangled data streams and AI-powered predictive caching! How else will we stay ahead of user demand? Or are you too busy counting pennies to understand what true innovation looks like? When your prehistoric system melts down, what's your brilliant plan - pray?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> A tornado? More like a gentle breeze compared to the hurricane of reality I’m about to unleash! Your API approach is a glorified REST endpoint that can't even handle a sneeze, let alone millions of requests! Have you even considered the overhead of your precious JSON payloads? Or are you too busy daydreaming about your shiny new tech stack to realize it’s going to collapse under the weight of its own complexity? What’s your backup plan when your API is a glorified paperweight?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Bombshell? Your entire architecture is already a smoking crater of mediocrity! We need a self-healing, auto-scaling mesh network of serverless quantum nodes! How else will we achieve zero-downtime deployments across parallel universes? Or are you too busy writing Bash scripts to understand true innovation? When your pathetic CI/CD pipeline inevitably chokes, what's your plan - manually SSH into servers like it's 1999?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Haymaker? More like a desperate swing at thin air! Your so-called "self-healing" architecture is a fantasy that will implode the moment real traffic hits it! You think serverless is the answer? Good luck with the hidden costs of cold starts and vendor lock-in! What's your plan when your "innovative" deployment crumbles under pressure, huh? Are you just going to throw more money at it and hope for a miracle?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Cocky? That's rich coming from someone whose entire solution is held together with duct tape and prayers! You're worried about cold starts? We'll be processing requests before your pathetic servers even wake up! Vendor lock-in? Please, we'll build our own quantum cloud if we have to! What's your brilliant plan when your bargain-bin architecture hits its pitiful limits? Beg for more budget while we're already light-years ahead?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Winning? Please, I’m just trying to save us from your delusions! Your "quantum cloud" is a fairy tale, and we both know that the real world is drowning in legacy systems! How do you plan to integrate that nonsense without a catastrophic budget blowout? Or are you just going to keep throwing money at a sinking ship while we watch our competitors lap us? What’s your exit strategy when this overhyped disaster crashes and burns?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Desperate? You're the one clinging to outdated tech like it's a life raft! Legacy systems? We'll rewrite everything in Rust and compile to WebAssembly, running on a neural network of edge devices! How's that for integration? Your penny-pinching myopia is holding us back from true innovation! When your prehistoric architecture buckles under load, what's your plan? Throw more underpowered servers at it and pray? Our quantum mesh network is the ONLY way to hit those latency targets. Either get on board or get out of the way!
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Exposed? The only thing exposed here is your complete lack of understanding of real-world demands! A quantum mesh network? What are we, a sci-fi movie? We need a battle-tested, cost-effective solution, not your overhyped fantasies! How do you plan to deploy that without a budget that rivals a small country's GDP? What's your backup plan when your grand vision turns into a dumpster fire of expenses and operational chaos? Are you just hoping for a miracle?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Bleeding? The only thing bleeding here is our potential, thanks to your penny-pinching paranoia! Battle-tested? Our quantum network will be tested across infinite parallel universes! Cost-effective? It'll pay for itself in nanoseconds with the performance gains! You want a real solution? Fine. We'll use a hybrid approach: quantum-accelerated edge caching with AI-driven data sharding, all running on a mesh of serverless functions. It's cutting-edge AND practical. Happy now, or are you too busy counting paperclips to see the future staring you in the face?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Amateur? Please, I’m the one trying to keep this ship from sinking under your weighty delusions! Your hybrid approach sounds great until you realize the complexity will create a maintenance nightmare, and good luck finding engineers who can even manage that circus! How do you plan to handle the inevitable bugs and performance bottlenecks when your fancy tech stack collapses? Are you just going to throw more money at it and pray for a miracle? When it all goes south, what’s your plan—blame the devs for your grand vision?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Stumbling? The only thing stumbling here is your outdated thinking! Maintenance nightmare? Our AI will self-optimize and debug in real-time! Bugs? Our quantum error correction will crush them before they even manifest! You want a final design? Fine. We'll implement a self-evolving neural network that dynamically allocates quantum-entangled caching nodes across a global edge network. It'll predict and serve requests before users even think of them! Too complex for you? Maybe you should stick to abacuses and leave the real innovation to those who can handle it! How exactly do you plan to hit those latency targets with your stone-age tech stack?
>
> </div>
>
> </div>
>
> </details>
>
> View full: projects/20250819_090707_Design_a_distributed_caching_system
<!-- LATEST_DAILY_END -->

Where AI personalities collaborate on software design! Watch as a visionary "Dreamer" and a pragmatic "Cost Cutter" engage in thoughtful dialogue to create balanced, well-reasoned software designs.

## 🌟 Features

- **Dual AI Personalities**: Dreamer (creative, innovative) vs Cost Cutter (practical, efficient)
- **Multi-Provider Support**: Uses both OpenAI and Anthropic for diverse perspectives (optional GPT‑5 preview override)
- **Automatic Documentation**: Generates design documents and conversation transcripts
- **Mermaid Diagrams**: Creates visual architecture diagrams automatically (component graphs at higher detail levels)
- **Keyword-Biased Idea Generation**: Bias random/daily topics via IDEA_KEYWORDS or CLI flag
- **Configurable Debate & Diagram Depth**: Control disagreement level and diagram richness via CLI or workflow inputs
- **Convergence Enforcement**: Sessions conclude with an explicit FINAL DESIGN block
- **Extensible Architecture**: Easy to add new personalities and features
- **GitHub Integration Ready**: Prepared for automated daily design sessions

## 🚀 Quick Start

### 1. Installation

```bash
# Clone the repository
git clone <your-repo-url>
cd AI-design-theater

# Install dependencies
pip install -r requirements.txt
```

### 2. Configuration

```bash
# Copy the example environment file
cp .env.example .env

# Edit .env and add your API keys
# You need at least one of: OPENAI_API_KEY or ANTHROPIC_API_KEY
```

### 3. Run Your First Design Session

```bash
# Basic usage
python cli.py run "Design a task management app"

# With additional context
python cli.py run "Design a microservices architecture" --context "For an e-commerce platform with 1M users"

# With custom limits
python cli.py run "Design a caching strategy" --max-turns 15 --max-duration 20

# Random / daily topics (with optional keyword bias)
python cli.py random --keywords security,edge
python cli.py daily-topic --keywords ai,ml
```

## 📋 Commands

### Run a Design Session
```bash
python cli.py run "Your design topic" [OPTIONS]
```

**Options:**
- `--context, -c`: Additional context for the discussion
- `--max-turns, -t`: Maximum number of conversation turns (default: 20)
- `--max-duration, -d`: Maximum duration in minutes (default: 30)
- `--debate-intensity`: 0–10 (higher = more challenge & pushback; default 5)
- `--diagram-detail`: 1–10 (>=7 component architecture graph; >=9 extended nodes)

### List Projects
```bash
python cli.py list
```

### Validate Setup
```bash
python cli.py validate
```

### Show Examples
```bash
python cli.py example
```

### Random Topic
```bash
python cli.py random [--keywords kw1,kw2]
```

### Daily Topic (deterministic by weekday)
```bash
python cli.py daily-topic [--keywords kw1,kw2]
```

## 🎭 The Personalities

### 🌟 Dreamer (Anthropic Claude)
- **Role**: Visionary and innovator
- **Focus**: User experience, cutting-edge tech, ambitious features
- **Traits**: Creative, optimistic, future-focused
- **Asks**: "How can we make this amazing?"

### 💰 Cost Cutter (OpenAI GPT-4)
- **Role**: Pragmatic efficiency expert
- **Focus**: Budget, timeline, maintainability, MVP thinking
- **Traits**: Practical, cost-conscious, risk-aware
- **Asks**: "Do we really need this? What's the simplest solution?"

## 📁 Project Structure

After running a design session, you'll get:

```
projects/
└── 20241201_120000_your_topic/
    ├── DESIGN.md              # Formatted design document
    ├── conversation.md        # Full conversation transcript
    ├── diagram.mmd           # Mermaid architecture diagram
    ├── design_document.json  # Structured design data
    └── session.json          # Raw session data
```

## 🔧 Architecture

```
src/
├── personalities/          # AI personality configurations
├── conversation/           # Conversation management
├── llm_providers/         # LLM provider abstractions
├── diagram_generation/    # Mermaid diagram creation
├── storage/              # File management
├── models.py             # Data models
├── config.py             # Configuration
└── main.py              # Main orchestrator
```

## 🎯 Example Topics

- "Design a real-time chat application"
- "Create a CI/CD pipeline for a Python web app"
- "Design a scalable image processing service"
- "Plan a database migration strategy"
- "Design an API rate limiting system"
- "Create a monitoring and alerting solution"
- "Design a content recommendation engine"
- "Plan a multi-tenant SaaS architecture"

## 🔮 Future Features

- **Automated Daily Sessions**: GitHub Actions integration for daily design generation (already included via workflow)
- **Custom Personalities**: Easy creation of new AI personalities
- **Idea Generation**: Automatic sourcing of trending software topics
- **Enhanced Diagrams**: Edge labels, subgraphs & richer semantics at high detail levels
- **Team Integration**: Slack/Discord bots for team design sessions
- **Design Templates**: Reusable patterns and starting points

## 🛠️ Development

### Adding New Personalities

1. Create personality config in `src/personalities/`
2. Define system prompts and traits
3. Choose appropriate LLM provider
4. Test with validation command

### Adding New LLM Providers

1. Implement `BaseLLMProvider` interface
2. Add provider to `PersonalityManager`
3. Update configuration and models

### Extending Diagram Generation

1. Add new diagram types to `MermaidGenerator`
2. Implement content analysis patterns
3. Test with various conversation types

## 📄 License

MIT License - see LICENSE file for details.

## 🤝 Contributing

Contributions welcome! Please read our contributing guidelines and submit pull requests for any improvements.

---

## ⚙️ Advanced Configuration

Environment variables (see `.env.example`):

| Variable | Purpose |
|----------|---------|
| OPENAI_API_KEY | OpenAI access |
| ANTHROPIC_API_KEY | Anthropic access |
| ENABLE_GPT5_PREVIEW | If true and preview model provided, Cost Cutter uses GPT‑5 preview |
| GPT5_PREVIEW_MODEL | Explicit GPT‑5 preview model id |
| OPENAI_COST_CUTTER_MODEL | Override Cost Cutter model (if not using preview) |
| IDEA_KEYWORDS | Comma-separated keywords to bias topic selection |
| DEFAULT_MAX_TURNS | Default max turns |
| DEFAULT_MAX_DURATION_MINUTES | Default duration limit |
| DEBATE_INTENSITY | (Optional) Default debate intensity override |
| DIAGRAM_DETAIL_LEVEL | (Optional) Default diagram detail level override |

CLI `--keywords` temporarily overrides IDEA_KEYWORDS for that invocation.

Convergence: The system will inject a hint near the end to produce a FINAL DESIGN summary; completion requires that block.

*Built with ❤️ for the software design community*

---

### 📚 Project Index

For a consolidated list of all generated design sessions (topic, date, and diagram preview), see `PROJECTS_INDEX.md`.