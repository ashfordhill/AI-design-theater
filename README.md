# 🎭 AI Design Theater

[![BANNER](readme/banner.gif)](https://www.ashhill.dev/)

<!-- LATEST_DAILY_START -->
> ## 🌅 Latest Daily Design
> **Topic:** Design a distributed caching system
> **Created:** 2025-08-17 09:07:11.416009
> **Project:** 20250817_090627_Design_a_distributed_caching_system
>
> ![Diagram](projects/20250817_090627_Design_a_distributed_caching_system/diagram.svg)
>
> ## 💬 Design Conversation
>
> <details>
> <summary><strong>Click to view the AI-to-AI conversation that led to this design</strong></summary>
>
> <div style="background-color: #f6f8fa; border-radius: 6px; padding: 16px; margin: 16px 0;">
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> A distributed caching system? Are you kidding me? We need to be pushing the boundaries of quantum caching and neural network-powered predictive data fetching! Why settle for outdated tech when we could be revolutionizing the entire concept of data storage? Or are you too scared to think beyond your precious Redis?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Oh, great, let's throw money at some pie-in-the-sky tech instead of focusing on what actually works! You think quantum caching is going to magically solve our latency issues while burning a hole in our budget? How about we stick to a simple, reliable in-memory store like Memcached that doesn’t require a PhD to maintain? Or are we just going to ignore the operational nightmare of training your team on some shiny new toy? What’s the plan for when that “revolutionary” tech crashes at 3 AM?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Memcached? Are you living in 2010? Wake up and smell the quantum entanglement! Your prehistoric solution will crumble under our performance requirements. And security? Please. We need post-quantum cryptography and AI-driven threat detection, not some glorified key-value store held together with duct tape and prayers. How exactly do you plan to handle millions of requests per second with your fossil tech? Or are you too busy pinching pennies to care about actual innovation?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Desperate? Please, I’m just trying to save us from your tech dumpster fire! Observability? You think throwing in some fancy dashboards will magically fix the chaos? We need robust, lightweight monitoring that doesn’t add latency or complexity—like Prometheus, not some bloated tool that costs a fortune and gives us more alerts than actionable insights! What's your plan for troubleshooting when everything goes south and your shiny toys are just collecting dust? Or are you too busy dreaming to even care?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Prometheus? Seriously? We're handling MILLIONS of requests per second, you dinosaur! We need a cutting-edge time-series database like InfluxDB or better yet, a custom WASM-powered telemetry system! As for data, your prehistoric approach will melt under the load. We need a distributed graph database with AI-powered sharding! How do you expect to achieve sub-millisecond latency with your stone-age tech stack? Or are you too busy counting pennies to understand what REAL performance means?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Oh, please, spare me the theatrics! Your precious InfluxDB is just another ticking time bomb waiting to explode under real-world conditions. You want to talk about data? How about we ditch the over-engineered nonsense and go with a simple, scalable NoSQL solution that can actually handle our load without turning into a maintenance nightmare? What’s your backup plan when your fancy database crashes and burns, huh? Or are you just banking on luck to keep this disaster afloat?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> NoSQL? How quaint. We're beyond simplistic key-value stores, grandpa. We need a hyper-distributed ledger with AI-driven consistency protocols! Your "solution" will crumble under our load faster than your career prospects. And don't get me started on your pathetic data approach. We need quantum-resistant encryption and real-time blockchain auditing, not some budget spreadsheet masquerading as a database! How exactly do you plan to achieve green computing with your energy-sucking dinosaur tech? Or is sustainability just too cutting-edge for your abacus-level thinking?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> A tornado? Please, I’m the hurricane that’s about to wipe your entire argument off the map! Your so-called "hyper-distributed ledger" is just another buzzword salad that’ll drown in complexity and costs. We need a lean, mean, battle-tested architecture that prioritizes operational efficiency, not your fantasy land of over-engineered solutions! And your data approach? It's a joke! We need a robust, adaptive data strategy that can scale sustainably without breaking the bank—how do you plan to keep costs down when your shiny new tech is guzzling power like it’s going out of style? Or is that just another detail you conveniently overlooked?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Battle-tested? More like battle-scarred and obsolete! Your "lean" architecture is anemic and can't handle modern demands. We need a self-healing, auto-scaling mesh of serverless functions powered by Rust and WebAssembly! And your data strategy? Please. We need AI-driven data lakes with quantum-resistant encryption, not your budget spreadsheets masquerading as databases. How exactly do you plan to achieve sub-millisecond latency with your fossil tech? Or is performance just not a priority in your penny-pinching paradise?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Haymaker? More like a desperate swing in the dark! Your serverless fantasy is a recipe for chaos and skyrocketing costs—good luck debugging that mess at 3 AM! We need a rock-solid, containerized architecture with Kubernetes managing edge nodes, not your wishful thinking about magical auto-scaling! And your data approach? It’s a disaster waiting to happen! We need a fault-tolerant, distributed database that can handle real-time analytics, not some glorified data dump! How do you plan to keep everything running smoothly when your “innovative” tech collapses under real-world pressure? Or are you just hoping for a miracle?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Kubernetes? What is this, amateur hour? We need a zero-trust, self-aware network of quantum-entangled microservices, not your clunky container circus! Your "fault-tolerant" database is about as robust as wet tissue paper. We need an AI-driven, self-optimizing data mesh with real-time blockchain verification, not your stone-age CRUD operations! How do you expect to handle millions of requests sustainably when your tech is as efficient as a coal-powered steamship? Or is green computing just too complex for your abacus-level problem-solving skills?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #10a37f; background-color: #ffffff; border-radius: 4px;">
>
> **🤖 Cost Cutter** *(openai: gpt-4o-mini)*
>
> Unleash hell? Please, I’m the inferno that’s about to incinerate your entire argument! Your so-called "AI-driven data mesh" is a convoluted nightmare that will drown us in complexity and costs—good luck explaining that to the board! We need a pragmatic, battle-tested architecture that scales without turning into a maintenance hell, not your sci-fi fantasy! And your data approach? It’s a ticking time bomb! We need a lean, efficient, and sustainable solution that doesn’t require an army of data scientists to manage! How do you plan to keep your lights on when your over-engineered monstrosity collapses under its own weight? Or are you just banking on fairy dust to keep it afloat?
>
> </div>
>
> <div style="margin: 12px 0; padding: 12px; border-left: 4px solid #d97706; background-color: #ffffff; border-radius: 4px;">
>
> **🧠 Idealist** *(anthropic: claude-3-5-sonnet-20240620)*
>
> Pragmatic? Battle-tested? You mean OUTDATED and IRRELEVANT! Your "lean" solution is anemic and will crumble under real-world pressure. We need a cutting-edge, self-evolving system built on a neural network of quantum processors and WASM modules! Your data approach is prehistoric - we need an AI-driven, blockchain-verified data fabric that predicts and optimizes in real-time! How do you plan to achieve sustainability when your tech is as efficient as a coal-powered abacus? Or is innovation just too scary for your penny-pinching, risk-averse mindset?
> 
> FINAL DESIGN: A hyper-distributed mesh of quantum-entangled microservices, powered by Rust and WASM, with an AI-driven data fabric for predictive caching and real-time optimization. Neural networks handle load balancing and auto-scaling, while blockchain ensures data integrity. It's the only way to meet our performance and sustainability goals. Anything less is just admitting defeat. Are you ready to step into the future, or are you going to keep clinging to your outdated toys?
>
> </div>
>
> </div>
>
> </details>
>
> View full: projects/20250817_090627_Design_a_distributed_caching_system
<!-- LATEST_DAILY_END -->

Where AI personalities collaborate on software design! Watch as a visionary "Dreamer" and a pragmatic "Cost Cutter" engage in thoughtful dialogue to create balanced, well-reasoned software designs.

## 🌟 Features

- **Dual AI Personalities**: Dreamer (creative, innovative) vs Cost Cutter (practical, efficient)
- **Multi-Provider Support**: Uses both OpenAI and Anthropic for diverse perspectives (optional GPT‑5 preview override)
- **Automatic Documentation**: Generates design documents and conversation transcripts
- **Mermaid Diagrams**: Creates visual architecture diagrams automatically (component graphs at higher detail levels)
- **Keyword-Biased Idea Generation**: Bias random/daily topics via IDEA_KEYWORDS or CLI flag
- **Configurable Debate & Diagram Depth**: Control disagreement level and diagram richness via CLI or workflow inputs
- **Convergence Enforcement**: Sessions conclude with an explicit FINAL DESIGN block
- **Extensible Architecture**: Easy to add new personalities and features
- **GitHub Integration Ready**: Prepared for automated daily design sessions

## 🚀 Quick Start

### 1. Installation

```bash
# Clone the repository
git clone <your-repo-url>
cd AI-design-theater

# Install dependencies
pip install -r requirements.txt
```

### 2. Configuration

```bash
# Copy the example environment file
cp .env.example .env

# Edit .env and add your API keys
# You need at least one of: OPENAI_API_KEY or ANTHROPIC_API_KEY
```

### 3. Run Your First Design Session

```bash
# Basic usage
python cli.py run "Design a task management app"

# With additional context
python cli.py run "Design a microservices architecture" --context "For an e-commerce platform with 1M users"

# With custom limits
python cli.py run "Design a caching strategy" --max-turns 15 --max-duration 20

# Random / daily topics (with optional keyword bias)
python cli.py random --keywords security,edge
python cli.py daily-topic --keywords ai,ml
```

## 📋 Commands

### Run a Design Session
```bash
python cli.py run "Your design topic" [OPTIONS]
```

**Options:**
- `--context, -c`: Additional context for the discussion
- `--max-turns, -t`: Maximum number of conversation turns (default: 20)
- `--max-duration, -d`: Maximum duration in minutes (default: 30)
- `--debate-intensity`: 0–10 (higher = more challenge & pushback; default 5)
- `--diagram-detail`: 1–10 (>=7 component architecture graph; >=9 extended nodes)

### List Projects
```bash
python cli.py list
```

### Validate Setup
```bash
python cli.py validate
```

### Show Examples
```bash
python cli.py example
```

### Random Topic
```bash
python cli.py random [--keywords kw1,kw2]
```

### Daily Topic (deterministic by weekday)
```bash
python cli.py daily-topic [--keywords kw1,kw2]
```

## 🎭 The Personalities

### 🌟 Dreamer (Anthropic Claude)
- **Role**: Visionary and innovator
- **Focus**: User experience, cutting-edge tech, ambitious features
- **Traits**: Creative, optimistic, future-focused
- **Asks**: "How can we make this amazing?"

### 💰 Cost Cutter (OpenAI GPT-4)
- **Role**: Pragmatic efficiency expert
- **Focus**: Budget, timeline, maintainability, MVP thinking
- **Traits**: Practical, cost-conscious, risk-aware
- **Asks**: "Do we really need this? What's the simplest solution?"

## 📁 Project Structure

After running a design session, you'll get:

```
projects/
└── 20241201_120000_your_topic/
    ├── DESIGN.md              # Formatted design document
    ├── conversation.md        # Full conversation transcript
    ├── diagram.mmd           # Mermaid architecture diagram
    ├── design_document.json  # Structured design data
    └── session.json          # Raw session data
```

## 🔧 Architecture

```
src/
├── personalities/          # AI personality configurations
├── conversation/           # Conversation management
├── llm_providers/         # LLM provider abstractions
├── diagram_generation/    # Mermaid diagram creation
├── storage/              # File management
├── models.py             # Data models
├── config.py             # Configuration
└── main.py              # Main orchestrator
```

## 🎯 Example Topics

- "Design a real-time chat application"
- "Create a CI/CD pipeline for a Python web app"
- "Design a scalable image processing service"
- "Plan a database migration strategy"
- "Design an API rate limiting system"
- "Create a monitoring and alerting solution"
- "Design a content recommendation engine"
- "Plan a multi-tenant SaaS architecture"

## 🔮 Future Features

- **Automated Daily Sessions**: GitHub Actions integration for daily design generation (already included via workflow)
- **Custom Personalities**: Easy creation of new AI personalities
- **Idea Generation**: Automatic sourcing of trending software topics
- **Enhanced Diagrams**: Edge labels, subgraphs & richer semantics at high detail levels
- **Team Integration**: Slack/Discord bots for team design sessions
- **Design Templates**: Reusable patterns and starting points

## 🛠️ Development

### Adding New Personalities

1. Create personality config in `src/personalities/`
2. Define system prompts and traits
3. Choose appropriate LLM provider
4. Test with validation command

### Adding New LLM Providers

1. Implement `BaseLLMProvider` interface
2. Add provider to `PersonalityManager`
3. Update configuration and models

### Extending Diagram Generation

1. Add new diagram types to `MermaidGenerator`
2. Implement content analysis patterns
3. Test with various conversation types

## 📄 License

MIT License - see LICENSE file for details.

## 🤝 Contributing

Contributions welcome! Please read our contributing guidelines and submit pull requests for any improvements.

---

## ⚙️ Advanced Configuration

Environment variables (see `.env.example`):

| Variable | Purpose |
|----------|---------|
| OPENAI_API_KEY | OpenAI access |
| ANTHROPIC_API_KEY | Anthropic access |
| ENABLE_GPT5_PREVIEW | If true and preview model provided, Cost Cutter uses GPT‑5 preview |
| GPT5_PREVIEW_MODEL | Explicit GPT‑5 preview model id |
| OPENAI_COST_CUTTER_MODEL | Override Cost Cutter model (if not using preview) |
| IDEA_KEYWORDS | Comma-separated keywords to bias topic selection |
| DEFAULT_MAX_TURNS | Default max turns |
| DEFAULT_MAX_DURATION_MINUTES | Default duration limit |
| DEBATE_INTENSITY | (Optional) Default debate intensity override |
| DIAGRAM_DETAIL_LEVEL | (Optional) Default diagram detail level override |

CLI `--keywords` temporarily overrides IDEA_KEYWORDS for that invocation.

Convergence: The system will inject a hint near the end to produce a FINAL DESIGN summary; completion requires that block.

*Built with ❤️ for the software design community*

---

### 📚 Project Index

For a consolidated list of all generated design sessions (topic, date, and diagram preview), see `PROJECTS_INDEX.md`.